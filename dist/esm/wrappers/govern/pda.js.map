{"version":3,"file":"pda.js","sourceRoot":"","sources":["../../../../src/wrappers/govern/pda.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAE9C,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,OAAO,EAAE,iBAAiB,EAAE,MAAM,iBAAiB,CAAC;AAEpD;;GAEG;AACH,MAAM,CAAC,MAAM,mBAAmB,GAAG,CACjC,IAAe,EACe,EAAE;IAChC,OAAO,MAAM,SAAS,CAAC,kBAAkB,CACvC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,EAC7D,iBAAiB,CAAC,MAAM,CACzB,CAAC;AACJ,CAAC,CAAA,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,mBAAmB,GAAG,CACjC,WAAsB,EACtB,KAAU,EACoB,EAAE;IAChC,OAAO,MAAM,SAAS,CAAC,kBAAkB,CACvC;QACE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;QAC1C,WAAW,CAAC,QAAQ,EAAE;QACtB,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;KACnC,EACD,iBAAiB,CAAC,MAAM,CACzB,CAAC;AACJ,CAAC,CAAA,CAAC;AAEF;;;;;GAKG;AACH,MAAM,CAAC,MAAM,eAAe,GAAG,CAC7B,WAAsB,EACtB,QAAmB,EACW,EAAE;IAChC,OAAO,MAAM,SAAS,CAAC,kBAAkB,CACvC;QACE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;QACtC,WAAW,CAAC,QAAQ,EAAE;QACtB,QAAQ,CAAC,QAAQ,EAAE;KACpB,EACD,iBAAiB,CAAC,MAAM,CACzB,CAAC;AACJ,CAAC,CAAA,CAAC;AAEF;;;;GAIG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAG,CACrC,WAAsB,EACQ,EAAE;IAChC,OAAO,MAAM,SAAS,CAAC,kBAAkB,CACvC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,WAAW,CAAC,QAAQ,EAAE,CAAC,EACxE,iBAAiB,CAAC,MAAM,CACzB,CAAC;AACJ,CAAC,CAAA,CAAC","sourcesContent":["import { utils } from \"@project-serum/anchor\";\nimport type { u64 } from \"@saberhq/token-utils\";\nimport { PublicKey } from \"@solana/web3.js\";\n\nimport { TRIBECA_ADDRESSES } from \"../../constants\";\n\n/**\n * Finds the PDA of a Governor.\n */\nexport const findGovernorAddress = async (\n  base: PublicKey\n): Promise<[PublicKey, number]> => {\n  return await PublicKey.findProgramAddress(\n    [utils.bytes.utf8.encode(\"TribecaGovernor\"), base.toBuffer()],\n    TRIBECA_ADDRESSES.Govern\n  );\n};\n\n/**\n * Finds the PDA of a Proposal.\n */\nexport const findProposalAddress = async (\n  governorKey: PublicKey,\n  index: u64\n): Promise<[PublicKey, number]> => {\n  return await PublicKey.findProgramAddress(\n    [\n      utils.bytes.utf8.encode(\"TribecaProposal\"),\n      governorKey.toBuffer(),\n      index.toArrayLike(Buffer, \"le\", 8),\n    ],\n    TRIBECA_ADDRESSES.Govern\n  );\n};\n\n/**\n * Finds the PDA of a Vote.\n * @param proposalKey\n * @param voterKey\n * @returns\n */\nexport const findVoteAddress = async (\n  proposalKey: PublicKey,\n  voterKey: PublicKey\n): Promise<[PublicKey, number]> => {\n  return await PublicKey.findProgramAddress(\n    [\n      utils.bytes.utf8.encode(\"TribecaVote\"),\n      proposalKey.toBuffer(),\n      voterKey.toBuffer(),\n    ],\n    TRIBECA_ADDRESSES.Govern\n  );\n};\n\n/**\n * Finds the address of a ProposalMeta.\n * @param proposalKey\n * @returns\n */\nexport const findProposalMetaAddress = async (\n  proposalKey: PublicKey\n): Promise<[PublicKey, number]> => {\n  return await PublicKey.findProgramAddress(\n    [utils.bytes.utf8.encode(\"TribecaProposalMeta\"), proposalKey.toBuffer()],\n    TRIBECA_ADDRESSES.Govern\n  );\n};\n"]}